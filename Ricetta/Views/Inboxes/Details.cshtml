@using Microsoft.AspNetCore.Identity
@using Ricetta.Data.Entities
@inject SignInManager<Member> SignInManager
@inject UserManager<Member> UserManager;
@model Ricetta.Data.Entities.Inbox

@{
    ViewData["Title"] = "Details";
    var member = await UserManager.FindByIdAsync(UserManager.GetUserId(this.User));
    var tagName = member?.Tagname;
}

<h1>Details</h1>



 
<div>
    <h4>Inbox</h4>
    <hr />
    <dl class="row">
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.User)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.User.Id)
        </dd>

        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Receiver)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.Receiver.Id)
        </dd>
    </dl>
</div>
<div>
    <a asp-action="Edit" asp-route-id="@Model?.Id">Edit</a> |
    <a asp-action="Index">Back to List</a>
</div>










<div class="container">
    <div class="row p-1" hidden>
        <div class="col-1">User</div>
        <div class="col-5"><input type="text" id="userInput" value="@tagName" /></div>
    </div>
    <div class="row p-1">
        <div class="col-1">Message</div>
        <div class="col-5"><input type="text" class="w-100" id="messageInput" /></div>
    </div>
    <div class="row p-1">
        <div class="col-6 text-end">
            <input type="button" id="sendButton" value="Send Message" />
        </div>
    </div>
    <div class="row p-1">
        <div class="col-6">
            <hr />
        </div>
    </div>
    <div class="row p-1">
        <div class="col-6">
            <ul id="messagesList"></ul>
        </div>
    </div>
</div>




@section Scripts {
    <script>
        window.LobbyId = @Model?.Id;

        console.log(window.LobbyId);
    </script>
    
}

